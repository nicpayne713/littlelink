name: ðŸŒ± Deploy site

on:
  workflow_dispatch:
  push:
    branches:
      - main

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3

      - name: commit to gh-pages
        run: |
          git checkout -b gh-pages
          git push -u origin gh-pages --force
      
      # Deploy to local repo
      - name: Deploy
        uses: moodiest/push-to-branch-action@develop
        env:
          REPO: self
          BRANCH: gh-pages 
          FOLDER: dist
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
          MESSAGE: "This updates the content to the commit {sha} that had the message:\n{msg}"

